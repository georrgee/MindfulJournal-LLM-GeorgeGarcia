{"version":3,"names":["isClient","StyleObjectIdentifier","StyleObjectRules","createVariable","scannedCache","WeakMap","totalSelectorsInserted","Map","allSelectors","allRules","insertedTransforms","getAllSelectors","getAllRules","Object","values","getAllTransforms","addTransform","identifier","css","rule","s","indexOf","process","env","NODE_ENV","console","error","startI","endI","value","slice","listenForSheetChanges","MutationObserver","entries","entry","HTMLStyleElement","sheet","HTMLLinkElement","href","endsWith","scanAllSheets","observe","document","head","childList","lastScannedSheets","collectThemes","tokens","themes","sheets","styleSheets","prev","current","Set","sheet2","out","updateSheetStyles","has","track","id","remove","next","get","set","bailAfterEnv","TAMAGUI_BAIL_AFTER_SCANNING_X_CSS_RULES","bailAfter","rules","cssRules","firstSelector","getTamaguiSelector","lastSelector","length","cacheKey","lastScanned","len","fails","dedupedThemes","nameToTheme","i","CSSStyleRule","response","cssRule","isTheme","deduped","addThemesFromCSS","name","names","apply","theme","filter","x","push","total","startsWith","cssText","colorVarToVal","rootComputedStyle","cssStyleRule","selectors","selectorText","split","color","key","token","val","sepI","varIndex","TAMAGUI_CSS_VARIABLE_PREFIX","replace","varName","tokenVal","getComputedStyle","body","getPropertyValue","selector","lastThemeSelectorIndex","lastIndexOf","schemeChar","scheme","themeName","add","tamaguiSelectorRegex","text","test","getIdentifierFromTamaguiSelector","CSSMediaRule","dotIndex","updateRules","join","nonce","setNonce","_","insertStyleRules","rulesToInsert","styleTag","createElement","appendChild","styleObject","shouldInsertStyleRules","insertRule","err","minInsertAmt","TAMAGUI_INSERT_SELECTOR_TRIES","IS_STATIC","size","TAMAGUI_STYLE_INSERTION_WARNING_LIMIT","warn"],"sources":["../../../src/helpers/insertStyleRule.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}